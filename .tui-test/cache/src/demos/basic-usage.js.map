{"version":3,"sources":["/Users/rquast/projects/fspec.videos/src/demos/basic-usage.ts"],"sourcesContent":["import { TestController } from '@microsoft/tui-test';\nimport { homedir } from 'os';\nimport { join } from 'path';\n\n/**\n * Basic usage demo for fspec TUI\n * This script demonstrates common fspec commands and navigation\n */\nexport async function basicUsageDemo() {\n  // Path to fspec executable\n  const fspecPath = join(homedir(), 'projects', 'fspec', 'dist', 'index.js');\n\n  // Create a test controller\n  const controller = new TestController();\n\n  try {\n    // Start the fspec TUI\n    console.log('Starting fspec TUI...');\n    await controller.spawn(process.execPath, [fspecPath], {\n      cwd: join(homedir(), 'projects', 'fspec'),\n      env: {\n        ...process.env,\n        FORCE_COLOR: '1',\n      },\n    });\n\n    // Wait for the TUI to load\n    await controller.waitForText('fspec', { timeout: 5000 });\n    await delay(1000);\n\n    // Demo 1: Show the help screen\n    console.log('Demo: Showing help screen...');\n    await controller.write('?');\n    await delay(2000);\n    await controller.write('\\x1b'); // ESC to close help\n\n    // Demo 2: Navigate through work units\n    console.log('Demo: Navigating work units...');\n    await delay(1000);\n    await controller.write('j'); // Move down\n    await delay(500);\n    await controller.write('j'); // Move down\n    await delay(500);\n    await controller.write('j'); // Move down\n    await delay(500);\n    await controller.write('k'); // Move up\n    await delay(500);\n\n    // Demo 3: Open a work unit\n    console.log('Demo: Opening work unit...');\n    await controller.write('\\r'); // Enter to open\n    await delay(2000);\n\n    // Demo 4: Navigate back\n    console.log('Demo: Navigating back...');\n    await controller.write('\\x1b'); // ESC to go back\n    await delay(1000);\n\n    // Demo 5: Search functionality (if available)\n    console.log('Demo: Search...');\n    await controller.write('/'); // Start search\n    await delay(500);\n    await controller.write('feature');\n    await delay(1000);\n    await controller.write('\\r'); // Confirm search\n    await delay(2000);\n\n    // Demo 6: Exit\n    console.log('Demo: Exiting...');\n    await controller.write('q'); // Quit\n    await delay(1000);\n\n    console.log('Demo completed successfully!');\n  } catch (error) {\n    console.error('Demo failed:', error);\n    throw error;\n  } finally {\n    // Clean up\n    await controller.close();\n  }\n}\n\nfunction delay(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\n// Run the demo if executed directly\nif (import.meta.url === `file://${process.argv[1]}`) {\n  basicUsageDemo().catch(error => {\n    console.error('Fatal error:', error);\n    process.exit(1);\n  });\n}\n"],"names":["TestController","homedir","join","basicUsageDemo","fspecPath","controller","error","console","log","spawn","process","execPath","cwd","env","FORCE_COLOR","waitForText","timeout","delay","write","close","ms","Promise","resolve","setTimeout","url","argv","catch","exit"],"mappings":"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","file":"basic-usage.js"}