{"version":3,"sources":["/Users/rquast/projects/fspec.videos/src/demos/working-demo.ts"],"sourcesContent":["import { spawn } from 'child_process';\n\n/**\n * Working demo that shows basic terminal commands\n * This demonstrates the recording infrastructure works\n */\nexport async function workingDemo() {\n  console.log('Starting working demo...');\n\n  // Create a simple shell process\n  const shell = spawn('bash', ['-i'], {\n    cwd: process.cwd(),\n    env: {\n      ...process.env,\n      PS1: '$ ',\n      FORCE_COLOR: '1',\n    },\n  });\n\n  // Helper to write to shell\n  const write = (text: string) => {\n    shell.stdin.write(text);\n  };\n\n  // Helper to wait\n  const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));\n\n  try {\n    // Wait for shell to start\n    await delay(1000);\n\n    // Demo 1: Show we're in fspec.videos directory\n    console.log('Demo: Checking location...');\n    write('pwd\\n');\n    await delay(2000);\n\n    // Demo 2: List demo scripts\n    console.log('Demo: Listing files...');\n    write('ls src/demos/\\n');\n    await delay(2000);\n\n    // Demo 3: Show package.json name\n    console.log('Demo: Showing project name...');\n    write('cat package.json | grep \"\\\\\"name\\\\\"\"\\n');\n    await delay(2000);\n\n    // Demo 4: Show success message\n    console.log('Demo: Showing completion...');\n    write('echo \"âœ… fspec.videos recording demo complete!\"\\n');\n    await delay(2000);\n\n    // Demo 5: Exit\n    console.log('Demo: Exiting...');\n    write('exit\\n');\n    await delay(1000);\n\n    // Wait for shell to exit\n    await new Promise<void>((resolve, reject) => {\n      shell.on('exit', (code) => {\n        if (code === 0) {\n          console.log('Demo completed successfully!');\n          resolve();\n        } else {\n          reject(new Error(`Shell exited with code ${code}`));\n        }\n      });\n    });\n  } catch (error) {\n    console.error('Demo failed:', error);\n    shell.kill();\n    throw error;\n  }\n}\n\n// Run the demo if executed directly\nif (import.meta.url === `file://${process.argv[1]}`) {\n  workingDemo().catch(error => {\n    console.error('Fatal error:', error);\n    process.exit(1);\n  });\n}\n"],"names":["spawn","workingDemo","shell","write","delay","error","console","log","cwd","process","env","PS1","FORCE_COLOR","text","stdin","ms","Promise","resolve","setTimeout","reject","on","code","Error","kill","url","argv","catch","exit"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,KAAK,QAAQ,gBAAgB;AAEtC;;;CAGC,GACD,OAAO,SAAeC;;YAIdC,OAUAC,OAKAC,OA0CGC;;;;oBA5DTC,QAAQC,GAAG,CAAC;oBAEZ,gCAAgC;oBAC1BL,QAAQF,MAAM;wBAAS;uBAAO;wBAClCQ,KAAKC,QAAQD,GAAG;wBAChBE,KAAK,wCACAD,QAAQC,GAAG;4BACdC,KAAK;4BACLC,aAAa;;oBAEjB;oBAEA,2BAA2B;oBACrBT,QAAQ,SAACU;wBACbX,MAAMY,KAAK,CAACX,KAAK,CAACU;oBACpB;oBAEA,iBAAiB;oBACXT,QAAQ,SAACW;+BAAe,IAAIC,QAAQC,SAAAA;mCAAWC,WAAWD,SAASF;;;;;;;;;;;oBAGvE,0BAA0B;oBAC1B;;wBAAMX,MAAM;;;oBAAZ;oBAEA,+CAA+C;oBAC/CE,QAAQC,GAAG,CAAC;oBACZJ,MAAM;oBACN;;wBAAMC,MAAM;;;oBAAZ;oBAEA,4BAA4B;oBAC5BE,QAAQC,GAAG,CAAC;oBACZJ,MAAM;oBACN;;wBAAMC,MAAM;;;oBAAZ;oBAEA,iCAAiC;oBACjCE,QAAQC,GAAG,CAAC;oBACZJ,MAAM;oBACN;;wBAAMC,MAAM;;;oBAAZ;oBAEA,+BAA+B;oBAC/BE,QAAQC,GAAG,CAAC;oBACZJ,MAAM;oBACN;;wBAAMC,MAAM;;;oBAAZ;oBAEA,eAAe;oBACfE,QAAQC,GAAG,CAAC;oBACZJ,MAAM;oBACN;;wBAAMC,MAAM;;;oBAAZ;oBAEA,yBAAyB;oBACzB;;wBAAM,IAAIY,QAAc,SAACC,SAASE;4BAChCjB,MAAMkB,EAAE,CAAC,QAAQ,SAACC;gCAChB,IAAIA,SAAS,GAAG;oCACdf,QAAQC,GAAG,CAAC;oCACZU;gCACF,OAAO;oCACLE,OAAO,IAAIG,MAAM,AAAC,0BAA8B,OAALD;gCAC7C;4BACF;wBACF;;;oBATA;;;;;;oBAUOhB;oBACPC,QAAQD,KAAK,CAAC,gBAAgBA;oBAC9BH,MAAMqB,IAAI;oBACV,MAAMlB;;;;;;;IAEV;;AAEA,oCAAoC;AACpC,IAAI,YAAYmB,GAAG,KAAK,AAAC,UAAyB,OAAhBf,QAAQgB,IAAI,CAAC,EAAE,GAAI;IACnDxB,cAAcyB,KAAK,CAACrB,SAAAA;QAClBC,QAAQD,KAAK,CAAC,gBAAgBA;QAC9BI,QAAQkB,IAAI,CAAC;IACf;AACF","file":"working-demo.js"}