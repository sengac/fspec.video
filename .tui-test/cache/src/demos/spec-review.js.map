{"version":3,"sources":["/Users/rquast/projects/fspec.videos/src/demos/spec-review.ts"],"sourcesContent":["import { TestController } from '@microsoft/tui-test';\nimport { homedir } from 'os';\nimport { join } from 'path';\n\n/**\n * Specification review demo for fspec TUI\n * Demonstrates viewing and navigating feature specifications\n */\nexport async function specReviewDemo() {\n  const fspecPath = join(homedir(), 'projects', 'fspec', 'dist', 'index.js');\n  const controller = new TestController();\n\n  try {\n    console.log('Starting fspec TUI for specification review demo...');\n    await controller.spawn(process.execPath, [fspecPath], {\n      cwd: join(homedir(), 'projects', 'fspec'),\n      env: {\n        ...process.env,\n        FORCE_COLOR: '1',\n      },\n    });\n\n    await controller.waitForText('fspec', { timeout: 5000 });\n    await delay(1500);\n\n    // Demo: Navigate to a feature\n    console.log('Demo: Navigating to feature...');\n    await controller.write('j'); // Move down\n    await delay(500);\n    await controller.write('j');\n    await delay(500);\n\n    // Demo: Open feature details\n    console.log('Demo: Opening feature details...');\n    await controller.write('\\r'); // Enter\n    await delay(2000);\n\n    // Demo: Scroll through scenarios\n    console.log('Demo: Reviewing scenarios...');\n    await controller.write('j'); // Scroll down\n    await delay(800);\n    await controller.write('j');\n    await delay(800);\n    await controller.write('j');\n    await delay(800);\n\n    // Demo: View acceptance criteria\n    console.log('Demo: Viewing acceptance criteria...');\n    await controller.write('a'); // Show acceptance criteria (example)\n    await delay(2500);\n\n    // Demo: View related work units\n    console.log('Demo: Viewing related work units...');\n    await controller.write('w'); // Show work units (example)\n    await delay(2000);\n\n    // Demo: Navigate back\n    console.log('Demo: Going back...');\n    await controller.write('\\x1b'); // ESC\n    await delay(1000);\n\n    // Exit\n    console.log('Demo: Exiting...');\n    await controller.write('q');\n    await delay(1000);\n\n    console.log('Specification review demo completed!');\n  } catch (error) {\n    console.error('Demo failed:', error);\n    throw error;\n  } finally {\n    await controller.close();\n  }\n}\n\nfunction delay(ms: number): Promise<void> {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nif (import.meta.url === `file://${process.argv[1]}`) {\n  specReviewDemo().catch(error => {\n    console.error('Fatal error:', error);\n    process.exit(1);\n  });\n}\n"],"names":["TestController","homedir","join","specReviewDemo","fspecPath","controller","error","console","log","spawn","process","execPath","cwd","env","FORCE_COLOR","waitForText","timeout","delay","write","close","ms","Promise","resolve","setTimeout","url","argv","catch","exit"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAASA,cAAc,QAAQ,sBAAsB;AACrD,SAASC,OAAO,QAAQ,KAAK;AAC7B,SAASC,IAAI,QAAQ,OAAO;AAE5B;;;CAGC,GACD,OAAO,SAAeC;;YACdC,WACAC,YAyDGC;;;;oBA1DHF,YAAYF,KAAKD,WAAW,YAAY,SAAS,QAAQ;oBACzDI,aAAa,IAAIL;;;;;;;;;oBAGrBO,QAAQC,GAAG,CAAC;oBACZ;;wBAAMH,WAAWI,KAAK,CAACC,QAAQC,QAAQ;4BAAGP;2BAAY;4BACpDQ,KAAKV,KAAKD,WAAW,YAAY;4BACjCY,KAAK,wCACAH,QAAQG,GAAG;gCACdC,aAAa;;wBAEjB;;;oBANA;oBAQA;;wBAAMT,WAAWU,WAAW,CAAC,SAAS;4BAAEC,SAAS;wBAAK;;;oBAAtD;oBACA;;wBAAMC,MAAM;;;oBAAZ;oBAEA,8BAA8B;oBAC9BV,QAAQC,GAAG,CAAC;oBACZ;;wBAAMH,WAAWa,KAAK,CAAC;;;oBAAvB,eAA6B,YAAY;oBACzC;;wBAAMD,MAAM;;;oBAAZ;oBACA;;wBAAMZ,WAAWa,KAAK,CAAC;;;oBAAvB;oBACA;;wBAAMD,MAAM;;;oBAAZ;oBAEA,6BAA6B;oBAC7BV,QAAQC,GAAG,CAAC;oBACZ;;wBAAMH,WAAWa,KAAK,CAAC;;;oBAAvB,eAA8B,QAAQ;oBACtC;;wBAAMD,MAAM;;;oBAAZ;oBAEA,iCAAiC;oBACjCV,QAAQC,GAAG,CAAC;oBACZ;;wBAAMH,WAAWa,KAAK,CAAC;;;oBAAvB,eAA6B,cAAc;oBAC3C;;wBAAMD,MAAM;;;oBAAZ;oBACA;;wBAAMZ,WAAWa,KAAK,CAAC;;;oBAAvB;oBACA;;wBAAMD,MAAM;;;oBAAZ;oBACA;;wBAAMZ,WAAWa,KAAK,CAAC;;;oBAAvB;oBACA;;wBAAMD,MAAM;;;oBAAZ;oBAEA,iCAAiC;oBACjCV,QAAQC,GAAG,CAAC;oBACZ;;wBAAMH,WAAWa,KAAK,CAAC;;;oBAAvB,eAA6B,qCAAqC;oBAClE;;wBAAMD,MAAM;;;oBAAZ;oBAEA,gCAAgC;oBAChCV,QAAQC,GAAG,CAAC;oBACZ;;wBAAMH,WAAWa,KAAK,CAAC;;;oBAAvB,eAA6B,4BAA4B;oBACzD;;wBAAMD,MAAM;;;oBAAZ;oBAEA,sBAAsB;oBACtBV,QAAQC,GAAG,CAAC;oBACZ;;wBAAMH,WAAWa,KAAK,CAAC;;;oBAAvB,eAAgC,MAAM;oBACtC;;wBAAMD,MAAM;;;oBAAZ;oBAEA,OAAO;oBACPV,QAAQC,GAAG,CAAC;oBACZ;;wBAAMH,WAAWa,KAAK,CAAC;;;oBAAvB;oBACA;;wBAAMD,MAAM;;;oBAAZ;oBAEAV,QAAQC,GAAG,CAAC;;;;;;oBACLF;oBACPC,QAAQD,KAAK,CAAC,gBAAgBA;oBAC9B,MAAMA;;oBAEN;;wBAAMD,WAAWc,KAAK;;;oBAAtB;;;;;;;;;;IAEJ;;AAEA,SAASF,MAAMG,EAAU;IACvB,OAAO,IAAIC,QAAQC,SAAAA;eAAWC,WAAWD,SAASF;;AACpD;AAEA,IAAI,YAAYI,GAAG,KAAK,AAAC,UAAyB,OAAhBd,QAAQe,IAAI,CAAC,EAAE,GAAI;IACnDtB,iBAAiBuB,KAAK,CAACpB,SAAAA;QACrBC,QAAQD,KAAK,CAAC,gBAAgBA;QAC9BI,QAAQiB,IAAI,CAAC;IACf;AACF","file":"spec-review.js"}